#!/bin/bash

#Selected File Check
fileBeingChecked=".bashrc"

grep ":(){ :|: &};:" ~/.bashrc -q;
if [ $? == "0" ];
  then
    echo "===================";
    cd ~/github_nabilfadjar/forkBomb/.safetyMeasures/;
    comprimisedFile=".bashrc_maniplulated_$(date +"%m_%d_%Y-%H_%M")";
    touch $comprimisedFile;
    cp ~/.bashrc $comprimisedFile;
    printf "\033[0;31mYour system was comprimised with the addition of the fork bomb command.\033[0m \n";
    echo .bashrc" was comprimised as follows: ";
    echo "-----";
    grep ":(){ :|: &};:" ~/.bashrc;
    echo "-----";
    echo "===================";
fi;
